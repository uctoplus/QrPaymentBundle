<?php

namespace Unit;

use PHPUnit\Framework\TestCase;
use Uctoplus\QrPaymentWrapper\SK\QrInvoiceParser;
use Uctoplus\QrPaymentWrapper\SK\QrPaymentParser;

/**
 * Class QrInvocieParserTest
 *
 * @author MimoGraphix <mimographix@gmail.com>
 * @copyright EpicFail | Studio
 * @package Unit
 */
class QrInvocieParserTest extends TestCase
{
    /**
     * @dataProvider _stringData
     */
    public function test_qr_doce_data_parse($data){

        $parser = new QrInvoiceParser();
        $invoice = $parser->parse($data);

        $this->assertNotNull($invoice);
        $this->assertCount(1, $invoice->getItems());
        $this->assertNotNull($invoice->getIssuer());

    }

    public function _stringData()
    {
        return [
            ["200EG0004KO9IREHH1M7O6L12K9SVP9249SCASUV01VMA1V3BBE35DCNVC11CF9T9N8A1BS0E41GV2ADNME39UL578IESCJ3I92MFGM4VHQE668089M4ANO40JK83B1K1RBUTFRRFMATK9631CTSFDCUP22JGAKOTEQU9M7KUQLDS91N60FPUSB3T3AVPH4R3S0QLUUEGTJ5MAIO72RSTIT78U5UG9MKS5VQOVU2QOTRI6NN1K76QC67C7JAA9ENDAFKLVF0JTBKLJH4VF88GEVQUPCGHFS000"],
            ["2000008018JPGBGSJFF4JH8BUQAS2SNFI1CL20BLIHPTU2TMM80US7HK43432ERQ66T6CU9UV95NIROQ3OG4GGMQ3TDJ41UT8362TJC1ONNTJVVS1MAV1NI92143USPP61E06TQ254J9GQNE5LBJ4KTVT887FKQ0361DBC28920FVDHVV6PQLN06V5Q1U75SVL8PTJHA94EIOJV0LFO022HLHQOT030JFV33LQDM5N0AD102EGJMEKD6P6N817F9KOKQUQA5O1UND79QOE9SKVS8PGL1KVU81RT0IMH670I0FB7T7657B5TSGQ000"],
            ["200E60006SJHA9JHK1J7Q9S9VNBSTC1OBHRG77LD5FPSCT3O5H0KRAI4JB49AO7KG92FRRTQBPV55I66FP21EEE2S3S4CN1L5BE10PI75CF7OM8QVMSLADKIPUTD2V5ILS2EFG957LEA9P7VTUUNE8QK47KS37HRS88G5JRK8O56M462CENK8AV131HF46Q7KJ0M9LICP2VK8FNML1TLSKHD296M5PLIPKHHODFLVULL9JDTHNE16STO6KBCOQBO8SP4JUTCUK1I5H1FIFL77M2B00"],
            ["2000Q080B6R5BHKBK1H5LE0MH2Q3QFU5KR49RJ2GB2BLA8MHFMQGFSH7BRH8K901FI1LNDQAKGVMLP086C3UBE5FE14TJBFPT2IG7NL0K80UUH3A1HC3HC061QA5GISN69RNHO4I64UFAUMAUN1456FE7L3HOA1BT0BLMGPGSC0A99RLCF0315NLBO939CRTNIAO8Q5TA7J1QFCI3U25BPCI7C10IN52M864JT9VDPH5RI0BU3EDLI8R2NR8CQ3M5JO58ROTKHGJ511L0ATOD22JLB7G8KKJSLHCEQ7MERIIO301RRN4998RF80PN0GR78O4RDGSL1HMRVQ0"]
        ];
    }
}